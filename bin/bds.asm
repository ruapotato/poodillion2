; Generated by Brainhair Compiler
bits 32

extern syscall1
extern syscall2
extern syscall3

section .data
str_0: db "Brainhair Display Server v0.1", 10, "", 0
str_1: db "Controls: Left=drag/click, Right=new window, Middle=quit", 10, "", 0
str_2: db "/dev/input/mice", 0
str_3: db "Error: Cannot open /dev/input/mice", 10, "", 0
str_4: db "/dev/fb0", 0
str_5: db "Error: Cannot open /dev/fb0", 10, "", 0
str_6: db "Screen: ", 0
str_7: db "x", 0
str_8: db "", 10, "", 0
str_9: db "BDS exited", 10, "", 0

section .text
global _start
global get_argc
global get_argv

section .bss
_startup_esp: resd 1

section .text

_start:
    mov [_startup_esp], esp  ; Save initial stack pointer
    call main
    ; Exit with return code from main
    mov ebx, eax  ; Exit code
    mov eax, 1    ; sys_exit
    int 0x80

; get_argc() - returns argument count
get_argc:
    mov eax, [_startup_esp]
    mov eax, [eax]  ; argc is at [esp]
    ret

; get_argv(index) - returns pointer to argument string
get_argv:
    push ebp
    mov ebp, esp
    mov eax, [_startup_esp]
    mov ecx, [ebp+8]  ; index
    lea eax, [eax + 4 + ecx*4]  ; argv[index] = esp + 4 + index*4
    mov eax, [eax]
    pop ebp
    ret
    
print_str:
    push ebp
    mov ebp, esp
    sub esp, 4
    mov eax, 0
    mov [ebp-4], eax
while_start0:
    mov eax, [ebp-4]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz while_end1
    mov eax, [ebp-4]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-4], eax
    jmp while_start0
while_end1:
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 1
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
print_str_return:
    mov esp, ebp
    pop ebp
    ret
    
print_num:
    push ebp
    mov ebp, esp
    sub esp, 25
    mov eax, 0
    mov [ebp-4], eax
    mov eax, 0
    push eax
    mov eax, 45
    push eax
    call syscall1
    add esp, 8
    mov [ebp-8], eax
    mov eax, [ebp-8]
    push eax
    mov eax, 16
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 45
    push eax
    call syscall1
    add esp, 8
    mov eax, [ebp-8]
    mov [ebp-4], eax
    mov eax, [ebp+8]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else3
    mov eax, 48
    push eax
    mov eax, 0
    mov ebx, eax
    mov eax, [ebp-4]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    mov eax, 0
    push eax
    mov eax, 1
    mov ebx, eax
    mov eax, [ebp-4]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    mov eax, [ebp-4]
    push eax
    call print_str
    add esp, 4
    jmp print_num_return
    jmp endif2
else3:
endif2:
    mov eax, [ebp+8]
    mov [ebp-12], eax
    mov eax, 0
    mov [ebp-16], eax
while_start4:
    mov eax, [ebp-12]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setg al
    movzx eax, al
    test eax, eax
    jz while_end5
    mov eax, 48
    push eax
    mov eax, [ebp-12]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, 10
    mov ebx, eax
    pop eax
    xor edx, edx
    idiv ebx
    push eax
    mov eax, 10
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp-16]
    mov ebx, eax
    mov eax, [ebp-4]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    mov eax, [ebp-12]
    push eax
    mov eax, 10
    mov ebx, eax
    pop eax
    xor edx, edx
    idiv ebx
    mov [ebp-12], eax
    mov eax, [ebp-16]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-16], eax
    jmp while_start4
while_end5:
    mov eax, 0
    push eax
    mov eax, [ebp-16]
    mov ebx, eax
    mov eax, [ebp-4]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    mov eax, 0
    mov [ebp-20], eax
    mov eax, [ebp-16]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-24], eax
while_start6:
    mov eax, [ebp-20]
    push eax
    mov eax, [ebp-24]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end7
    mov eax, [ebp-20]
    mov ebx, eax
    mov eax, [ebp-4]
    add eax, ebx
    movzx eax, byte [eax]
    mov byte [ebp-25], al
    mov eax, [ebp-24]
    mov ebx, eax
    mov eax, [ebp-4]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, [ebp-20]
    mov ebx, eax
    mov eax, [ebp-4]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    movzx eax, byte [ebp-25]
    push eax
    mov eax, [ebp-24]
    mov ebx, eax
    mov eax, [ebp-4]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    mov eax, [ebp-20]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-20], eax
    mov eax, [ebp-24]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-24], eax
    jmp while_start6
while_end7:
    mov eax, [ebp-4]
    push eax
    call print_str
    add esp, 4
print_num_return:
    mov esp, ebp
    pop ebp
    ret
    
window_ptr:
    push ebp
    mov ebp, esp
    mov eax, [ebp+8]
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, 64
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov ebx, eax
    pop eax
    add eax, ebx
    jmp window_ptr_return
window_ptr_return:
    mov esp, ebp
    pop ebp
    ret
    
win_get:
    push ebp
    mov ebp, esp
    mov eax, [ebp+12]
    mov ebx, eax
    mov eax, [ebp+8]
    shl ebx, 2
    add eax, ebx
    mov eax, [eax]
    jmp win_get_return
win_get_return:
    mov esp, ebp
    pop ebp
    ret
    
win_set:
    push ebp
    mov ebp, esp
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+12]
    mov ebx, eax
    mov eax, [ebp+8]
    shl ebx, 2
    add eax, ebx
    pop ebx
    mov [eax], ebx
win_set_return:
    mov esp, ebp
    pop ebp
    ret
    
create_window:
    push ebp
    mov ebp, esp
    sub esp, 8
    mov eax, 0
    mov [ebp-4], eax
while_start8:
    mov eax, [ebp-4]
    push eax
    mov eax, 32
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end9
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+8]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-8], eax
    mov eax, 0
    push eax
    mov eax, [ebp-8]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else11
    mov eax, 1
    push eax
    mov eax, 0
    push eax
    mov eax, [ebp-8]
    push eax
    call win_set
    add esp, 12
    mov eax, [ebp+12]
    push eax
    mov eax, 1
    push eax
    mov eax, [ebp-8]
    push eax
    call win_set
    add esp, 12
    mov eax, [ebp+16]
    push eax
    mov eax, 2
    push eax
    mov eax, [ebp-8]
    push eax
    call win_set
    add esp, 12
    mov eax, [ebp+20]
    push eax
    mov eax, 3
    push eax
    mov eax, [ebp-8]
    push eax
    call win_set
    add esp, 12
    mov eax, [ebp+24]
    push eax
    mov eax, 4
    push eax
    mov eax, [ebp-8]
    push eax
    call win_set
    add esp, 12
    mov eax, 1
    push eax
    mov eax, 5
    push eax
    mov eax, [ebp-8]
    push eax
    call win_set
    add esp, 12
    mov eax, 0
    push eax
    mov eax, 6
    push eax
    mov eax, [ebp-8]
    push eax
    call win_set
    add esp, 12
    mov eax, 0
    push eax
    mov eax, 7
    push eax
    mov eax, [ebp-8]
    push eax
    call win_set
    add esp, 12
    mov eax, [ebp+28]
    push eax
    mov eax, 8
    push eax
    mov eax, [ebp-8]
    push eax
    call win_set
    add esp, 12
    mov eax, [ebp+32]
    push eax
    mov eax, 9
    push eax
    mov eax, [ebp-8]
    push eax
    call win_set
    add esp, 12
    mov eax, 4210752
    push eax
    mov eax, 10
    push eax
    mov eax, [ebp-8]
    push eax
    call win_set
    add esp, 12
    mov eax, [ebp-4]
    jmp create_window_return
    jmp endif10
else11:
endif10:
    mov eax, [ebp-4]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-4], eax
    jmp while_start8
while_end9:
    mov eax, 1
    neg eax
    jmp create_window_return
create_window_return:
    mov esp, ebp
    pop ebp
    ret
    
destroy_window:
    push ebp
    mov ebp, esp
    sub esp, 4
    mov eax, [ebp+12]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, 32
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short14
    test ebx, ebx
    jz and_short14
    mov eax, 1
    jmp and_end15
and_short14:
    xor eax, eax
and_end15:
    test eax, eax
    jz else13
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp+8]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-4], eax
    mov eax, 0
    push eax
    mov eax, 0
    push eax
    mov eax, [ebp-4]
    push eax
    call win_set
    add esp, 12
    jmp endif12
else13:
endif12:
destroy_window_return:
    mov esp, ebp
    pop ebp
    ret
    
fill_rect:
    push ebp
    mov ebp, esp
    sub esp, 24
    mov eax, [ebp+16]
    mov [ebp-4], eax
while_start16:
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+24]
    mov ebx, eax
    pop eax
    add eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end17
    mov eax, [ebp-4]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+36]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short20
    test ebx, ebx
    jz and_short20
    mov eax, 1
    jmp and_end21
and_short20:
    xor eax, eax
and_end21:
    test eax, eax
    jz else19
    mov eax, [ebp+12]
    mov [ebp-8], eax
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp+20]
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-12], eax
    mov eax, [ebp-8]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else23
    mov eax, 0
    mov [ebp-8], eax
    jmp endif22
else23:
endif22:
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp+32]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setg al
    movzx eax, al
    test eax, eax
    jz else25
    mov eax, [ebp+32]
    mov [ebp-12], eax
    jmp endif24
else25:
endif24:
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-12]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else27
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp-8]
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-16], eax
    mov eax, 0
    mov [ebp-20], eax
while_start28:
    mov eax, [ebp-20]
    push eax
    mov eax, [ebp-16]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end29
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp-20]
    mov ebx, eax
    mov eax, [ebp+40]
    shl ebx, 2
    add eax, ebx
    pop ebx
    mov [eax], ebx
    mov eax, [ebp-20]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-20], eax
    jmp while_start28
while_end29:
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+32]
    mov ebx, eax
    pop eax
    imul eax, ebx
    push eax
    mov eax, [ebp-8]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov [ebp-24], eax
    mov eax, 0
    push eax
    mov eax, [ebp-24]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 19
    push eax
    call syscall3
    add esp, 16
    mov eax, [ebp-16]
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    imul eax, ebx
    push eax
    mov eax, [ebp+40]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
    jmp endif26
else27:
endif26:
    jmp endif18
else19:
endif18:
    mov eax, [ebp-4]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-4], eax
    jmp while_start16
while_end17:
fill_rect_return:
    mov esp, ebp
    pop ebp
    ret
    
draw_pixel:
    push ebp
    mov ebp, esp
    sub esp, 4
    mov eax, [ebp+12]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp+24]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short32
    test ebx, ebx
    jz and_short32
    mov eax, 1
    jmp and_end33
and_short32:
    xor eax, eax
and_end33:
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short34
    test ebx, ebx
    jz and_short34
    mov eax, 1
    jmp and_end35
and_short34:
    xor eax, eax
and_end35:
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+28]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short36
    test ebx, ebx
    jz and_short36
    mov eax, 1
    jmp and_end37
and_short36:
    xor eax, eax
and_end37:
    test eax, eax
    jz else31
    mov eax, [ebp+20]
    push eax
    mov eax, 0
    mov ebx, eax
    mov eax, [ebp+32]
    shl ebx, 2
    add eax, ebx
    pop ebx
    mov [eax], ebx
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+24]
    mov ebx, eax
    pop eax
    imul eax, ebx
    push eax
    mov eax, [ebp+12]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov [ebp-4], eax
    mov eax, 0
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 19
    push eax
    call syscall3
    add esp, 16
    mov eax, 4
    push eax
    mov eax, [ebp+32]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
    jmp endif30
else31:
endif30:
draw_pixel_return:
    mov esp, ebp
    pop ebp
    ret
    
draw_decoration:
    push ebp
    mov ebp, esp
    sub esp, 24
    mov eax, 1
    push eax
    mov eax, [ebp+12]
    push eax
    call win_get
    add esp, 8
    mov [ebp-4], eax
    mov eax, 2
    push eax
    mov eax, [ebp+12]
    push eax
    call win_get
    add esp, 8
    mov [ebp-8], eax
    mov eax, 3
    push eax
    mov eax, [ebp+12]
    push eax
    call win_get
    add esp, 8
    mov [ebp-12], eax
    mov eax, 4
    push eax
    mov eax, [ebp+12]
    push eax
    call win_get
    add esp, 8
    mov [ebp-16], eax
    mov eax, 8
    push eax
    mov eax, [ebp+12]
    push eax
    call win_get
    add esp, 8
    mov [ebp-20], eax
    mov eax, 6316128
    mov [ebp-24], eax
    mov eax, [ebp+16]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else39
    mov eax, 35071
    mov [ebp-24], eax
    mov eax, [ebp-20]
    push eax
    mov eax, 2105376
    mov ebx, eax
    pop eax
    or eax, ebx
    mov [ebp-20], eax
    jmp endif38
else39:
endif38:
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp-24]
    push eax
    mov eax, 3
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp-24]
    push eax
    mov eax, 3
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-16]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp-24]
    push eax
    mov eax, [ebp-16]
    push eax
    mov eax, 3
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp-24]
    push eax
    mov eax, [ebp-16]
    push eax
    mov eax, 3
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp-12]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp-20]
    push eax
    mov eax, 22
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, 3
    push eax
    mov eax, 2
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 14500932
    push eax
    mov eax, 16
    push eax
    mov eax, 16
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp-12]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 16
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 4513092
    push eax
    mov eax, 16
    push eax
    mov eax, 16
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp-12]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 16
    push eax
    mov eax, 2
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 8
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 14540100
    push eax
    mov eax, 16
    push eax
    mov eax, 16
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp-12]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 16
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 12
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
draw_decoration_return:
    mov esp, ebp
    pop ebp
    ret
    
draw_window_body:
    push ebp
    mov ebp, esp
    sub esp, 36
    mov eax, 1
    push eax
    mov eax, [ebp+12]
    push eax
    call win_get
    add esp, 8
    mov [ebp-4], eax
    mov eax, 2
    push eax
    mov eax, [ebp+12]
    push eax
    call win_get
    add esp, 8
    mov [ebp-8], eax
    mov eax, 3
    push eax
    mov eax, [ebp+12]
    push eax
    call win_get
    add esp, 8
    mov [ebp-12], eax
    mov eax, 4
    push eax
    mov eax, [ebp+12]
    push eax
    call win_get
    add esp, 8
    mov [ebp-16], eax
    mov eax, 9
    push eax
    mov eax, [ebp+12]
    push eax
    call win_get
    add esp, 8
    mov [ebp-20], eax
    mov eax, [ebp-4]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-24], eax
    mov eax, [ebp-8]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 22
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-28], eax
    mov eax, [ebp-12]
    push eax
    mov eax, 3
    push eax
    mov eax, 2
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-32], eax
    mov eax, [ebp-16]
    push eax
    mov eax, 3
    push eax
    mov eax, 2
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 22
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-36], eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp-20]
    push eax
    mov eax, [ebp-36]
    push eax
    mov eax, [ebp-32]
    push eax
    mov eax, [ebp-28]
    push eax
    mov eax, [ebp-24]
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
draw_window_body_return:
    mov esp, ebp
    pop ebp
    ret
    
composite:
    push ebp
    mov ebp, esp
    sub esp, 12
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp+32]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, 32
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 0
    push eax
    mov eax, 0
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, 0
    mov [ebp-4], eax
while_start40:
    mov eax, [ebp-4]
    push eax
    mov eax, 32
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end41
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+16]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else43
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+12]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-8], eax
    mov eax, 0
    push eax
    mov eax, [ebp-8]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    push eax
    mov eax, 7
    push eax
    mov eax, [ebp-8]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short46
    test ebx, ebx
    jz and_short46
    mov eax, 1
    jmp and_end47
and_short46:
    xor eax, eax
and_end47:
    test eax, eax
    jz else45
    mov eax, 5
    push eax
    mov eax, [ebp-8]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else49
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 0
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp+8]
    push eax
    call draw_decoration
    add esp, 24
    jmp endif48
else49:
endif48:
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp+8]
    push eax
    call draw_window_body
    add esp, 20
    jmp endif44
else45:
endif44:
    jmp endif42
else43:
endif42:
    mov eax, [ebp-4]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-4], eax
    jmp while_start40
while_end41:
    mov eax, [ebp+16]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, 32
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short52
    test ebx, ebx
    jz and_short52
    mov eax, 1
    jmp and_end53
and_short52:
    xor eax, eax
and_end53:
    test eax, eax
    jz else51
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+12]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-12], eax
    mov eax, 0
    push eax
    mov eax, [ebp-12]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    push eax
    mov eax, 7
    push eax
    mov eax, [ebp-12]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short56
    test ebx, ebx
    jz and_short56
    mov eax, 1
    jmp and_end57
and_short56:
    xor eax, eax
and_end57:
    test eax, eax
    jz else55
    mov eax, 5
    push eax
    mov eax, [ebp-12]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else59
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 1
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp+8]
    push eax
    call draw_decoration
    add esp, 24
    jmp endif58
else59:
endif58:
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp+8]
    push eax
    call draw_window_body
    add esp, 20
    jmp endif54
else55:
endif54:
    jmp endif50
else51:
endif50:
composite_return:
    mov esp, ebp
    pop ebp
    ret
    
draw_taskbar:
    push ebp
    mov ebp, esp
    sub esp, 20
    mov eax, [ebp+20]
    push eax
    mov eax, 32
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-4], eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, 2960685
    push eax
    mov eax, 32
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, 0
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, 5263440
    push eax
    mov eax, 1
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, 0
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, 26282
    push eax
    mov eax, 32
    push eax
    mov eax, 8
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 48
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 4
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, 48
    push eax
    mov eax, 16
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-8], eax
    mov eax, 0
    mov [ebp-12], eax
while_start60:
    mov eax, [ebp-12]
    push eax
    mov eax, 32
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end61
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp+12]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-16], eax
    mov eax, 0
    push eax
    mov eax, [ebp-16]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else63
    mov eax, 4210752
    mov [ebp-20], eax
    mov eax, 6
    push eax
    mov eax, [ebp-16]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else65
    mov eax, 5263440
    mov [ebp-20], eax
    jmp endif64
else65:
endif64:
    mov eax, 7
    push eax
    mov eax, [ebp-16]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else67
    mov eax, 3487029
    mov [ebp-20], eax
    jmp endif66
else67:
endif66:
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp-20]
    push eax
    mov eax, 32
    push eax
    mov eax, 8
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 120
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, 8
    push eax
    mov eax, [ebp-16]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 32
    push eax
    mov eax, 12
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 4
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, 6
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, 2
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+8]
    push eax
    call fill_rect
    add esp, 36
    mov eax, [ebp-8]
    push eax
    mov eax, 128
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-8], eax
    jmp endif62
else63:
endif62:
    mov eax, [ebp-12]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-12], eax
    jmp while_start60
while_end61:
draw_taskbar_return:
    mov esp, ebp
    pop ebp
    ret
    
draw_cursor:
    push ebp
    mov ebp, esp
    sub esp, 8
    mov eax, 0
    mov [ebp-4], eax
while_start68:
    mov eax, [ebp-4]
    push eax
    mov eax, 14
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end69
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 16777215
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp+8]
    push eax
    call draw_pixel
    add esp, 28
    mov eax, [ebp-4]
    push eax
    mov eax, 10
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else71
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 16777215
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+8]
    push eax
    call draw_pixel
    add esp, 28
    jmp endif70
else71:
endif70:
    mov eax, 1
    mov [ebp-8], eax
while_start72:
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, 8
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short74
    test ebx, ebx
    jz and_short74
    mov eax, 1
    jmp and_end75
and_short74:
    xor eax, eax
and_end75:
    test eax, eax
    jz while_end73
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 0
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp-8]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+8]
    push eax
    call draw_pixel
    add esp, 28
    mov eax, [ebp-8]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-8], eax
    jmp while_start72
while_end73:
    mov eax, [ebp-4]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-4], eax
    jmp while_start68
while_end69:
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 16777215
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, 10
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+8]
    push eax
    call draw_pixel
    add esp, 28
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 16777215
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, 11
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+8]
    push eax
    call draw_pixel
    add esp, 28
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 16777215
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, 12
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, 5
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+8]
    push eax
    call draw_pixel
    add esp, 28
    mov eax, [ebp+28]
    push eax
    mov eax, [ebp+24]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, 16777215
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, 13
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, 6
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+8]
    push eax
    call draw_pixel
    add esp, 28
draw_cursor_return:
    mov esp, ebp
    pop ebp
    ret
    
point_in_rect:
    push ebp
    mov ebp, esp
    mov eax, [ebp+8]
    push eax
    mov eax, [ebp+16]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+24]
    mov ebx, eax
    pop eax
    add eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short78
    test ebx, ebx
    jz and_short78
    mov eax, 1
    jmp and_end79
and_short78:
    xor eax, eax
and_end79:
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp+20]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short80
    test ebx, ebx
    jz and_short80
    mov eax, 1
    jmp and_end81
and_short80:
    xor eax, eax
and_end81:
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp+20]
    push eax
    mov eax, [ebp+28]
    mov ebx, eax
    pop eax
    add eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short82
    test ebx, ebx
    jz and_short82
    mov eax, 1
    jmp and_end83
and_short82:
    xor eax, eax
and_end83:
    test eax, eax
    jz else77
    mov eax, 1
    jmp point_in_rect_return
    jmp endif76
else77:
endif76:
    mov eax, 0
    jmp point_in_rect_return
point_in_rect_return:
    mov esp, ebp
    pop ebp
    ret
    
hit_test_window:
    push ebp
    mov ebp, esp
    sub esp, 16
    mov eax, 0
    push eax
    mov eax, [ebp+8]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    push eax
    mov eax, 7
    push eax
    mov eax, [ebp+8]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jnz or_short86
    test ebx, ebx
    jnz or_short86
    xor eax, eax
    jmp or_end87
or_short86:
    mov eax, 1
or_end87:
    test eax, eax
    jz else85
    mov eax, 0
    jmp hit_test_window_return
    jmp endif84
else85:
endif84:
    mov eax, 1
    push eax
    mov eax, [ebp+8]
    push eax
    call win_get
    add esp, 8
    mov [ebp-4], eax
    mov eax, 2
    push eax
    mov eax, [ebp+8]
    push eax
    call win_get
    add esp, 8
    mov [ebp-8], eax
    mov eax, 3
    push eax
    mov eax, [ebp+8]
    push eax
    call win_get
    add esp, 8
    mov [ebp-12], eax
    mov eax, 4
    push eax
    mov eax, [ebp+8]
    push eax
    call win_get
    add esp, 8
    mov [ebp-16], eax
    mov eax, [ebp-16]
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+12]
    push eax
    call point_in_rect
    add esp, 24
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else89
    mov eax, 0
    jmp hit_test_window_return
    jmp endif88
else89:
endif88:
    mov eax, 16
    push eax
    mov eax, 16
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp-12]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 16
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+12]
    push eax
    call point_in_rect
    add esp, 24
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else91
    mov eax, 3
    jmp hit_test_window_return
    jmp endif90
else91:
endif90:
    mov eax, 16
    push eax
    mov eax, 16
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp-12]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 16
    push eax
    mov eax, 2
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 8
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+12]
    push eax
    call point_in_rect
    add esp, 24
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else93
    mov eax, 4
    jmp hit_test_window_return
    jmp endif92
else93:
endif92:
    mov eax, 16
    push eax
    mov eax, 16
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp-12]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 16
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 12
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+12]
    push eax
    call point_in_rect
    add esp, 24
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else95
    mov eax, 5
    jmp hit_test_window_return
    jmp endif94
else95:
endif94:
    mov eax, 22
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, 3
    push eax
    mov eax, 2
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+12]
    push eax
    call point_in_rect
    add esp, 24
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else97
    mov eax, 2
    jmp hit_test_window_return
    jmp endif96
else97:
endif96:
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-16]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jnz or_short100
    test ebx, ebx
    jnz or_short100
    xor eax, eax
    jmp or_end101
or_short100:
    mov eax, 1
or_end101:
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    add eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jnz or_short102
    test ebx, ebx
    jnz or_short102
    xor eax, eax
    jmp or_end103
or_short102:
    mov eax, 1
or_end103:
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp-12]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jnz or_short104
    test ebx, ebx
    jnz or_short104
    xor eax, eax
    jmp or_end105
or_short104:
    mov eax, 1
or_end105:
    test eax, eax
    jz else99
    mov eax, 6
    jmp hit_test_window_return
    jmp endif98
else99:
endif98:
    mov eax, 1
    jmp hit_test_window_return
hit_test_window_return:
    mov esp, ebp
    pop ebp
    ret
    
hit_test_taskbar:
    push ebp
    mov ebp, esp
    sub esp, 16
    mov eax, [ebp+20]
    push eax
    mov eax, 32
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-4], eax
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else107
    mov eax, 2
    neg eax
    jmp hit_test_taskbar_return
    jmp endif106
else107:
endif106:
    mov eax, [ebp+8]
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 4
    push eax
    mov eax, 48
    mov ebx, eax
    pop eax
    add eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short110
    test ebx, ebx
    jz and_short110
    mov eax, 1
    jmp and_end111
and_short110:
    xor eax, eax
and_end111:
    test eax, eax
    jz else109
    mov eax, 1
    neg eax
    jmp hit_test_taskbar_return
    jmp endif108
else109:
endif108:
    mov eax, 48
    push eax
    mov eax, 16
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-8], eax
    mov eax, 0
    mov [ebp-12], eax
while_start112:
    mov eax, [ebp-12]
    push eax
    mov eax, 32
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end113
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp+16]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-16], eax
    mov eax, 0
    push eax
    mov eax, [ebp-16]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else115
    mov eax, [ebp+8]
    push eax
    mov eax, [ebp-8]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, 120
    mov ebx, eax
    pop eax
    add eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short118
    test ebx, ebx
    jz and_short118
    mov eax, 1
    jmp and_end119
and_short118:
    xor eax, eax
and_end119:
    test eax, eax
    jz else117
    mov eax, [ebp-12]
    jmp hit_test_taskbar_return
    jmp endif116
else117:
endif116:
    mov eax, [ebp-8]
    push eax
    mov eax, 128
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-8], eax
    jmp endif114
else115:
endif114:
    mov eax, [ebp-12]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-12], eax
    jmp while_start112
while_end113:
    mov eax, 2
    neg eax
    jmp hit_test_taskbar_return
hit_test_taskbar_return:
    mov esp, ebp
    pop ebp
    ret
    
main:
    push ebp
    mov ebp, esp
    sub esp, 224
    lea eax, [rel str_0]
    push eax
    call print_str
    add esp, 4
    lea eax, [rel str_1]
    push eax
    call print_str
    add esp, 4
    mov eax, 0
    push eax
    lea eax, [rel str_2]
    push eax
    mov eax, 5
    push eax
    call syscall2
    add esp, 12
    mov [ebp-4], eax
    mov eax, [ebp-4]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else121
    lea eax, [rel str_3]
    push eax
    call print_str
    add esp, 4
    mov eax, 1
    push eax
    mov eax, 1
    push eax
    call syscall1
    add esp, 8
    jmp endif120
else121:
endif120:
    mov eax, 3
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, 55
    push eax
    call syscall2
    add esp, 12
    mov [ebp-8], eax
    mov eax, [ebp-8]
    push eax
    mov eax, 2048
    mov ebx, eax
    pop eax
    or eax, ebx
    push eax
    mov eax, 4
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, 55
    push eax
    call syscall3
    add esp, 16
    mov eax, 2
    push eax
    lea eax, [rel str_4]
    push eax
    mov eax, 5
    push eax
    call syscall2
    add esp, 12
    mov [ebp-12], eax
    mov eax, [ebp-12]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else123
    lea eax, [rel str_5]
    push eax
    call print_str
    add esp, 4
    mov eax, 1
    push eax
    mov eax, 1
    push eax
    call syscall1
    add esp, 8
    jmp endif122
else123:
endif122:
    mov eax, 0
    push eax
    mov eax, 45
    push eax
    call syscall1
    add esp, 8
    mov [ebp-16], eax
    mov eax, [ebp-16]
    push eax
    mov eax, 65536
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-20], eax
    mov eax, [ebp-20]
    push eax
    mov eax, 45
    push eax
    call syscall1
    add esp, 8
    mov eax, [ebp-16]
    mov [ebp-24], eax
    mov eax, [ebp-16]
    push eax
    mov eax, 256
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-28], eax
    mov eax, [ebp-16]
    push eax
    mov eax, 16384
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-32], eax
    mov eax, [ebp-16]
    push eax
    mov eax, 16392
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-36], eax
    mov eax, [ebp-16]
    push eax
    mov eax, 16400
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-40], eax
    mov eax, [ebp-24]
    push eax
    mov eax, 17920
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, 54
    push eax
    call syscall3
    add esp, 16
    mov eax, 0
    mov ebx, eax
    mov eax, [ebp-24]
    shl ebx, 2
    add eax, ebx
    mov eax, [eax]
    mov [ebp-44], eax
    mov eax, 1
    mov ebx, eax
    mov eax, [ebp-24]
    shl ebx, 2
    add eax, ebx
    mov eax, [eax]
    mov [ebp-48], eax
    lea eax, [rel str_6]
    push eax
    call print_str
    add esp, 4
    mov eax, [ebp-44]
    push eax
    call print_num
    add esp, 4
    lea eax, [rel str_7]
    push eax
    call print_str
    add esp, 4
    mov eax, [ebp-48]
    push eax
    call print_num
    add esp, 4
    lea eax, [rel str_8]
    push eax
    call print_str
    add esp, 4
    mov eax, 0
    mov [ebp-52], eax
while_start124:
    mov eax, [ebp-52]
    push eax
    mov eax, 32
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end125
    mov eax, [ebp-52]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-56], eax
    mov eax, 0
    push eax
    mov eax, 0
    push eax
    mov eax, [ebp-56]
    push eax
    call win_set
    add esp, 12
    mov eax, [ebp-52]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-52], eax
    jmp while_start124
while_end125:
    mov eax, 15263976
    push eax
    mov eax, 2250154
    push eax
    mov eax, 300
    push eax
    mov eax, 400
    push eax
    mov eax, 60
    push eax
    mov eax, 80
    push eax
    mov eax, [ebp-40]
    push eax
    call create_window
    add esp, 28
    mov [ebp-60], eax
    mov eax, 15790320
    push eax
    mov eax, 2271829
    push eax
    mov eax, 350
    push eax
    mov eax, 450
    push eax
    mov eax, 120
    push eax
    mov eax, 200
    push eax
    mov eax, [ebp-40]
    push eax
    call create_window
    add esp, 28
    mov [ebp-64], eax
    mov eax, 15658734
    push eax
    mov eax, 11162914
    push eax
    mov eax, 280
    push eax
    mov eax, 380
    push eax
    mov eax, 180
    push eax
    mov eax, 350
    push eax
    mov eax, [ebp-40]
    push eax
    call create_window
    add esp, 28
    mov [ebp-68], eax
    mov eax, [ebp-44]
    push eax
    mov eax, 2
    mov ebx, eax
    pop eax
    xor edx, edx
    idiv ebx
    mov [ebp-72], eax
    mov eax, [ebp-48]
    push eax
    mov eax, 2
    mov ebx, eax
    pop eax
    xor edx, edx
    idiv ebx
    mov [ebp-76], eax
    mov eax, [ebp-68]
    mov [ebp-80], eax
    mov eax, 0
    mov [ebp-84], eax
    mov eax, 1
    neg eax
    mov [ebp-88], eax
    mov eax, 0
    mov [ebp-92], eax
    mov eax, 0
    mov [ebp-96], eax
    mov eax, 1
    mov [ebp-100], eax
    mov eax, 0
    mov [ebp-104], eax
    mov eax, 0
    mov [ebp-108], eax
    mov eax, 1718874
    mov [ebp-112], eax
    mov eax, [ebp-80]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    test eax, eax
    jz else127
    mov eax, [ebp-80]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-116], eax
    mov eax, 1
    push eax
    mov eax, 6
    push eax
    mov eax, [ebp-116]
    push eax
    call win_set
    add esp, 12
    jmp endif126
else127:
endif126:
    mov eax, 1
    mov [ebp-120], eax
while_start128:
    mov eax, [ebp-120]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz while_end129
    mov eax, [ebp-100]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else131
    mov eax, [ebp-112]
    push eax
    mov eax, [ebp-28]
    push eax
    mov eax, [ebp-48]
    push eax
    mov eax, [ebp-44]
    push eax
    mov eax, [ebp-80]
    push eax
    mov eax, [ebp-40]
    push eax
    mov eax, [ebp-12]
    push eax
    call composite
    add esp, 28
    mov eax, [ebp-28]
    push eax
    mov eax, [ebp-48]
    push eax
    mov eax, [ebp-44]
    push eax
    mov eax, [ebp-40]
    push eax
    mov eax, [ebp-12]
    push eax
    call draw_taskbar
    add esp, 20
    mov eax, 0
    mov [ebp-100], eax
    jmp endif130
else131:
endif130:
    mov eax, [ebp-32]
    push eax
    mov eax, [ebp-48]
    push eax
    mov eax, [ebp-44]
    push eax
    mov eax, [ebp-76]
    push eax
    mov eax, [ebp-72]
    push eax
    mov eax, [ebp-12]
    push eax
    call draw_cursor
    add esp, 24
    mov eax, 3
    push eax
    mov eax, [ebp-36]
    push eax
    mov eax, [ebp-4]
    push eax
    mov eax, 3
    push eax
    call syscall3
    add esp, 16
    mov [ebp-124], eax
    mov eax, [ebp-124]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else133
    mov eax, 0
    mov ebx, eax
    mov eax, [ebp-36]
    add eax, ebx
    movzx eax, byte [eax]
    mov [ebp-128], eax
    mov eax, 1
    mov ebx, eax
    mov eax, [ebp-36]
    add eax, ebx
    movzx eax, byte [eax]
    mov [ebp-132], eax
    mov eax, 2
    mov ebx, eax
    mov eax, [ebp-36]
    add eax, ebx
    movzx eax, byte [eax]
    mov [ebp-136], eax
    mov eax, [ebp-128]
    push eax
    mov eax, 16
    mov ebx, eax
    pop eax
    and eax, ebx
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else135
    mov eax, [ebp-132]
    push eax
    mov eax, 256
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-132], eax
    jmp endif134
else135:
endif134:
    mov eax, [ebp-128]
    push eax
    mov eax, 32
    mov ebx, eax
    pop eax
    and eax, ebx
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else137
    mov eax, [ebp-136]
    push eax
    mov eax, 256
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-136], eax
    jmp endif136
else137:
endif136:
    mov eax, [ebp-128]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    and eax, ebx
    mov [ebp-140], eax
    mov eax, [ebp-128]
    push eax
    mov eax, 2
    mov ebx, eax
    pop eax
    and eax, ebx
    mov [ebp-144], eax
    mov eax, [ebp-128]
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    and eax, ebx
    mov [ebp-148], eax
    mov eax, [ebp-148]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else139
    mov eax, 0
    mov [ebp-120], eax
    jmp endif138
else139:
endif138:
    mov eax, [ebp-28]
    push eax
    mov eax, [ebp-48]
    push eax
    mov eax, [ebp-44]
    push eax
    mov eax, [ebp-112]
    push eax
    mov eax, 16
    push eax
    mov eax, 14
    push eax
    mov eax, [ebp-76]
    push eax
    mov eax, [ebp-72]
    push eax
    mov eax, [ebp-12]
    push eax
    call fill_rect
    add esp, 36
    mov eax, [ebp-72]
    push eax
    mov eax, [ebp-132]
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-72], eax
    mov eax, [ebp-76]
    push eax
    mov eax, [ebp-136]
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-76], eax
    mov eax, [ebp-72]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else141
    mov eax, 0
    mov [ebp-72], eax
    jmp endif140
else141:
endif140:
    mov eax, [ebp-72]
    push eax
    mov eax, [ebp-44]
    push eax
    mov eax, 14
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    test eax, eax
    jz else143
    mov eax, [ebp-44]
    push eax
    mov eax, 15
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-72], eax
    jmp endif142
else143:
endif142:
    mov eax, [ebp-76]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else145
    mov eax, 0
    mov [ebp-76], eax
    jmp endif144
else145:
endif144:
    mov eax, [ebp-76]
    push eax
    mov eax, [ebp-48]
    push eax
    mov eax, 16
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    test eax, eax
    jz else147
    mov eax, [ebp-48]
    push eax
    mov eax, 17
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-76], eax
    jmp endif146
else147:
endif146:
    mov eax, [ebp-84]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else149
    mov eax, [ebp-140]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else151
    mov eax, [ebp-88]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-152], eax
    mov eax, [ebp-72]
    push eax
    mov eax, [ebp-92]
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 1
    push eax
    mov eax, [ebp-152]
    push eax
    call win_set
    add esp, 12
    mov eax, [ebp-76]
    push eax
    mov eax, [ebp-96]
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, 2
    push eax
    mov eax, [ebp-152]
    push eax
    call win_set
    add esp, 12
    mov eax, 1
    mov [ebp-100], eax
    jmp endif150
else151:
    mov eax, 0
    mov [ebp-84], eax
endif150:
    jmp endif148
else149:
endif148:
    mov eax, [ebp-140]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    push eax
    mov eax, [ebp-104]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short154
    test ebx, ebx
    jz and_short154
    mov eax, 1
    jmp and_end155
and_short154:
    xor eax, eax
and_end155:
    push eax
    mov eax, [ebp-84]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short156
    test ebx, ebx
    jz and_short156
    mov eax, 1
    jmp and_end157
and_short156:
    xor eax, eax
and_end157:
    test eax, eax
    jz else153
    mov eax, [ebp-48]
    push eax
    mov eax, [ebp-40]
    push eax
    mov eax, [ebp-76]
    push eax
    mov eax, [ebp-72]
    push eax
    call hit_test_taskbar
    add esp, 16
    mov [ebp-156], eax
    mov eax, [ebp-156]
    push eax
    mov eax, 1
    neg eax
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else159
    mov eax, 100
    push eax
    mov eax, [ebp-72]
    push eax
    mov eax, 50
    mov ebx, eax
    pop eax
    xor edx, edx
    idiv ebx
    push eax
    mov eax, 20
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-160], eax
    mov eax, 80
    push eax
    mov eax, [ebp-76]
    push eax
    mov eax, 50
    mov ebx, eax
    pop eax
    xor edx, edx
    idiv ebx
    push eax
    mov eax, 20
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-164], eax
    mov eax, 16053492
    push eax
    mov eax, 5579434
    push eax
    mov eax, 250
    push eax
    mov eax, 350
    push eax
    mov eax, [ebp-164]
    push eax
    mov eax, [ebp-160]
    push eax
    mov eax, [ebp-40]
    push eax
    call create_window
    add esp, 28
    mov [ebp-168], eax
    mov eax, [ebp-168]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    test eax, eax
    jz else161
    mov eax, [ebp-80]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    test eax, eax
    jz else163
    mov eax, [ebp-80]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-172], eax
    mov eax, 0
    push eax
    mov eax, 6
    push eax
    mov eax, [ebp-172]
    push eax
    call win_set
    add esp, 12
    jmp endif162
else163:
endif162:
    mov eax, [ebp-168]
    mov [ebp-80], eax
    mov eax, [ebp-168]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-176], eax
    mov eax, 1
    push eax
    mov eax, 6
    push eax
    mov eax, [ebp-176]
    push eax
    call win_set
    add esp, 12
    mov eax, 1
    mov [ebp-100], eax
    jmp endif160
else161:
endif160:
    jmp endif158
else159:
    mov eax, [ebp-156]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    test eax, eax
    jz else165
    mov eax, [ebp-156]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-180], eax
    mov eax, 7
    push eax
    mov eax, [ebp-180]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else167
    mov eax, 0
    push eax
    mov eax, 7
    push eax
    mov eax, [ebp-180]
    push eax
    call win_set
    add esp, 12
    jmp endif166
else167:
endif166:
    mov eax, [ebp-80]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    mov eax, [ebp-80]
    push eax
    mov eax, [ebp-156]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short170
    test ebx, ebx
    jz and_short170
    mov eax, 1
    jmp and_end171
and_short170:
    xor eax, eax
and_end171:
    test eax, eax
    jz else169
    mov eax, [ebp-80]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-184], eax
    mov eax, 0
    push eax
    mov eax, 6
    push eax
    mov eax, [ebp-184]
    push eax
    call win_set
    add esp, 12
    jmp endif168
else169:
endif168:
    mov eax, [ebp-156]
    mov [ebp-80], eax
    mov eax, 1
    push eax
    mov eax, 6
    push eax
    mov eax, [ebp-180]
    push eax
    call win_set
    add esp, 12
    mov eax, 1
    mov [ebp-100], eax
    jmp endif164
else165:
    mov eax, 0
    mov [ebp-188], eax
    mov eax, [ebp-80]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    mov eax, [ebp-188]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short174
    test ebx, ebx
    jz and_short174
    mov eax, 1
    jmp and_end175
and_short174:
    xor eax, eax
and_end175:
    test eax, eax
    jz else173
    mov eax, [ebp-80]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-192], eax
    mov eax, [ebp-76]
    push eax
    mov eax, [ebp-72]
    push eax
    mov eax, [ebp-192]
    push eax
    call hit_test_window
    add esp, 12
    mov [ebp-196], eax
    mov eax, [ebp-196]
    push eax
    mov eax, 3
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else177
    mov eax, [ebp-80]
    push eax
    mov eax, [ebp-40]
    push eax
    call destroy_window
    add esp, 8
    mov eax, 1
    neg eax
    mov [ebp-80], eax
    mov eax, 32
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-52], eax
while_start178:
    mov eax, [ebp-52]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    test eax, eax
    jz while_end179
    mov eax, [ebp-52]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-200], eax
    mov eax, 0
    push eax
    mov eax, [ebp-200]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    push eax
    mov eax, 7
    push eax
    mov eax, [ebp-200]
    push eax
    call win_get
    add esp, 8
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short182
    test ebx, ebx
    jz and_short182
    mov eax, 1
    jmp and_end183
and_short182:
    xor eax, eax
and_end183:
    test eax, eax
    jz else181
    mov eax, [ebp-52]
    mov [ebp-80], eax
    mov eax, 1
    push eax
    mov eax, 6
    push eax
    mov eax, [ebp-200]
    push eax
    call win_set
    add esp, 12
    mov eax, 1
    neg eax
    mov [ebp-52], eax
    jmp endif180
else181:
endif180:
    mov eax, [ebp-52]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-52], eax
    jmp while_start178
while_end179:
    mov eax, 1
    mov [ebp-100], eax
    mov eax, 1
    mov [ebp-188], eax
    jmp endif176
else177:
endif176:
    mov eax, [ebp-196]
    push eax
    mov eax, 5
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    push eax
    mov eax, [ebp-188]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short186
    test ebx, ebx
    jz and_short186
    mov eax, 1
    jmp and_end187
and_short186:
    xor eax, eax
and_end187:
    test eax, eax
    jz else185
    mov eax, 1
    push eax
    mov eax, 7
    push eax
    mov eax, [ebp-192]
    push eax
    call win_set
    add esp, 12
    mov eax, 0
    push eax
    mov eax, 6
    push eax
    mov eax, [ebp-192]
    push eax
    call win_set
    add esp, 12
    mov eax, 1
    neg eax
    mov [ebp-80], eax
    mov eax, 1
    mov [ebp-100], eax
    mov eax, 1
    mov [ebp-188], eax
    jmp endif184
else185:
endif184:
    mov eax, [ebp-196]
    push eax
    mov eax, 2
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    push eax
    mov eax, [ebp-188]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short190
    test ebx, ebx
    jz and_short190
    mov eax, 1
    jmp and_end191
and_short190:
    xor eax, eax
and_end191:
    test eax, eax
    jz else189
    mov eax, 1
    mov [ebp-84], eax
    mov eax, [ebp-80]
    mov [ebp-88], eax
    mov eax, [ebp-72]
    push eax
    mov eax, 1
    push eax
    mov eax, [ebp-192]
    push eax
    call win_get
    add esp, 8
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-92], eax
    mov eax, [ebp-76]
    push eax
    mov eax, 2
    push eax
    mov eax, [ebp-192]
    push eax
    call win_get
    add esp, 8
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-96], eax
    mov eax, 1
    mov [ebp-188], eax
    jmp endif188
else189:
endif188:
    mov eax, [ebp-196]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setg al
    movzx eax, al
    push eax
    mov eax, [ebp-188]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short194
    test ebx, ebx
    jz and_short194
    mov eax, 1
    jmp and_end195
and_short194:
    xor eax, eax
and_end195:
    test eax, eax
    jz else193
    mov eax, 1
    mov [ebp-188], eax
    jmp endif192
else193:
endif192:
    jmp endif172
else173:
endif172:
    mov eax, [ebp-188]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else197
    mov eax, 32
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-52], eax
while_start198:
    mov eax, [ebp-52]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    mov eax, [ebp-188]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short200
    test ebx, ebx
    jz and_short200
    mov eax, 1
    jmp and_end201
and_short200:
    xor eax, eax
and_end201:
    test eax, eax
    jz while_end199
    mov eax, [ebp-52]
    push eax
    mov eax, [ebp-80]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else203
    mov eax, [ebp-52]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-204], eax
    mov eax, [ebp-76]
    push eax
    mov eax, [ebp-72]
    push eax
    mov eax, [ebp-204]
    push eax
    call hit_test_window
    add esp, 12
    mov [ebp-208], eax
    mov eax, [ebp-208]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setg al
    movzx eax, al
    test eax, eax
    jz else205
    mov eax, [ebp-80]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    test eax, eax
    jz else207
    mov eax, [ebp-80]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-212], eax
    mov eax, 0
    push eax
    mov eax, 6
    push eax
    mov eax, [ebp-212]
    push eax
    call win_set
    add esp, 12
    jmp endif206
else207:
endif206:
    mov eax, [ebp-52]
    mov [ebp-80], eax
    mov eax, 1
    push eax
    mov eax, 6
    push eax
    mov eax, [ebp-204]
    push eax
    call win_set
    add esp, 12
    mov eax, 1
    mov [ebp-100], eax
    mov eax, 1
    mov [ebp-188], eax
    jmp endif204
else205:
endif204:
    jmp endif202
else203:
endif202:
    mov eax, [ebp-52]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-52], eax
    jmp while_start198
while_end199:
    jmp endif196
else197:
endif196:
endif164:
endif158:
    jmp endif152
else153:
endif152:
    mov eax, [ebp-144]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    push eax
    mov eax, [ebp-108]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short210
    test ebx, ebx
    jz and_short210
    mov eax, 1
    jmp and_end211
and_short210:
    xor eax, eax
and_end211:
    test eax, eax
    jz else209
    mov eax, 16316664
    push eax
    mov eax, 11149909
    push eax
    mov eax, 220
    push eax
    mov eax, 320
    push eax
    mov eax, [ebp-76]
    push eax
    mov eax, [ebp-72]
    push eax
    mov eax, [ebp-40]
    push eax
    call create_window
    add esp, 28
    mov [ebp-216], eax
    mov eax, [ebp-216]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    test eax, eax
    jz else213
    mov eax, [ebp-80]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    test eax, eax
    jz else215
    mov eax, [ebp-80]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-220], eax
    mov eax, 0
    push eax
    mov eax, 6
    push eax
    mov eax, [ebp-220]
    push eax
    call win_set
    add esp, 12
    jmp endif214
else215:
endif214:
    mov eax, [ebp-216]
    mov [ebp-80], eax
    mov eax, [ebp-216]
    push eax
    mov eax, [ebp-40]
    push eax
    call window_ptr
    add esp, 8
    mov [ebp-224], eax
    mov eax, 1
    push eax
    mov eax, 6
    push eax
    mov eax, [ebp-224]
    push eax
    call win_set
    add esp, 12
    mov eax, 1
    mov [ebp-100], eax
    jmp endif212
else213:
endif212:
    jmp endif208
else209:
endif208:
    mov eax, [ebp-140]
    mov [ebp-104], eax
    mov eax, [ebp-144]
    mov [ebp-108], eax
    jmp endif132
else133:
endif132:
    jmp while_start128
while_end129:
    mov eax, [ebp-12]
    push eax
    mov eax, 6
    push eax
    call syscall1
    add esp, 8
    mov eax, [ebp-4]
    push eax
    mov eax, 6
    push eax
    call syscall1
    add esp, 8
    lea eax, [rel str_9]
    push eax
    call print_str
    add esp, 4
    mov eax, 0
    push eax
    mov eax, 1
    push eax
    call syscall1
    add esp, 8
main_return:
    mov esp, ebp
    pop ebp
    ret