; Generated by Brainhair Compiler
bits 32

extern syscall1
extern syscall2
extern syscall3

section .data
str_0: db "Usage: rect <x> <y> <width> <height> <color> [fill]", 10, "", 0
str_1: db "  color: 0xRRGGBB (e.g., 0xFF0000 for red)", 10, "", 0
str_2: db "  fill: 1 to fill, 0 or omit for outline", 10, "", 0
str_3: db "/dev/fb0", 0
str_4: db "Error: Cannot open /dev/fb0", 10, "", 0
str_5: db "Error: Cannot get screen info", 10, "", 0

section .text
global _start
global get_argc
global get_argv

section .bss
_startup_esp: resd 1

section .text

_start:
    mov [_startup_esp], esp  ; Save initial stack pointer
    call main
    ; Exit with return code from main
    mov ebx, eax  ; Exit code
    mov eax, 1    ; sys_exit
    int 0x80

; get_argc() - returns argument count
get_argc:
    mov eax, [_startup_esp]
    mov eax, [eax]  ; argc is at [esp]
    ret

; get_argv(index) - returns pointer to argument string
get_argv:
    push ebp
    mov ebp, esp
    mov eax, [_startup_esp]
    mov ecx, [ebp+8]  ; index
    lea eax, [eax + 4 + ecx*4]  ; argv[index] = esp + 4 + index*4
    mov eax, [eax]
    pop ebp
    ret
    
print:
    push ebp
    mov ebp, esp
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 1
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
print_return:
    mov esp, ebp
    pop ebp
    ret
    
print_str:
    push ebp
    mov ebp, esp
    sub esp, 4
    mov eax, 0
    mov [ebp-4], eax
while_start0:
    mov eax, [ebp-4]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz while_end1
    mov eax, [ebp-4]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-4], eax
    jmp while_start0
while_end1:
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 1
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
print_str_return:
    mov esp, ebp
    pop ebp
    ret
    
atoi:
    push ebp
    mov ebp, esp
    sub esp, 13
    mov eax, 0
    mov [ebp-4], eax
    mov eax, 0
    mov [ebp-8], eax
    mov eax, 0
    mov [ebp-12], eax
    mov eax, 0
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 48
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    push eax
    mov eax, 1
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 120
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short4
    test ebx, ebx
    jz and_short4
    mov eax, 1
    jmp and_end5
and_short4:
    xor eax, eax
and_end5:
    test eax, eax
    jz else3
    mov eax, 2
    mov [ebp-8], eax
while_start6:
    mov eax, [ebp-8]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz while_end7
    mov eax, [ebp-8]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    mov byte [ebp-13], al
    mov eax, [ebp-4]
    push eax
    mov eax, 16
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov [ebp-4], eax
    movzx eax, byte [ebp-13]
    push eax
    mov eax, 48
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    movzx eax, byte [ebp-13]
    push eax
    mov eax, 57
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setle al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short10
    test ebx, ebx
    jz and_short10
    mov eax, 1
    jmp and_end11
and_short10:
    xor eax, eax
and_end11:
    test eax, eax
    jz else9
    mov eax, [ebp-4]
    push eax
    movzx eax, byte [ebp-13]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 48
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-4], eax
    jmp endif8
else9:
endif8:
    movzx eax, byte [ebp-13]
    push eax
    mov eax, 97
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    movzx eax, byte [ebp-13]
    push eax
    mov eax, 102
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setle al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short14
    test ebx, ebx
    jz and_short14
    mov eax, 1
    jmp and_end15
and_short14:
    xor eax, eax
and_end15:
    test eax, eax
    jz else13
    mov eax, [ebp-4]
    push eax
    movzx eax, byte [ebp-13]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 87
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-4], eax
    jmp endif12
else13:
endif12:
    movzx eax, byte [ebp-13]
    push eax
    mov eax, 65
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    movzx eax, byte [ebp-13]
    push eax
    mov eax, 70
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setle al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short18
    test ebx, ebx
    jz and_short18
    mov eax, 1
    jmp and_end19
and_short18:
    xor eax, eax
and_end19:
    test eax, eax
    jz else17
    mov eax, [ebp-4]
    push eax
    movzx eax, byte [ebp-13]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 55
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-4], eax
    jmp endif16
else17:
endif16:
    mov eax, [ebp-8]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-8], eax
    jmp while_start6
while_end7:
    mov eax, [ebp-4]
    jmp atoi_return
    jmp endif2
else3:
endif2:
    mov eax, 0
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 45
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else21
    mov eax, 1
    mov [ebp-12], eax
    mov eax, 1
    mov [ebp-8], eax
    jmp endif20
else21:
endif20:
while_start22:
    mov eax, [ebp-8]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz while_end23
    mov eax, [ebp-8]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 48
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    push eax
    mov eax, [ebp-8]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 57
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setle al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jz and_short26
    test ebx, ebx
    jz and_short26
    mov eax, 1
    jmp and_end27
and_short26:
    xor eax, eax
and_end27:
    test eax, eax
    jz else25
    mov eax, [ebp-4]
    push eax
    mov eax, 10
    mov ebx, eax
    pop eax
    imul eax, ebx
    push eax
    mov eax, [ebp-8]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 48
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-4], eax
    jmp endif24
else25:
endif24:
    mov eax, [ebp-8]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-8], eax
    jmp while_start22
while_end23:
    mov eax, [ebp-12]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else29
    mov eax, 0
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    pop eax
    sub eax, ebx
    jmp atoi_return
    jmp endif28
else29:
endif28:
    mov eax, [ebp-4]
    jmp atoi_return
atoi_return:
    mov esp, ebp
    pop ebp
    ret
    
draw_hline:
    push ebp
    mov ebp, esp
    sub esp, 20
    mov eax, [ebp+16]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    push eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+28]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jnz or_short32
    test ebx, ebx
    jnz or_short32
    xor eax, eax
    jmp or_end33
or_short32:
    mov eax, 1
or_end33:
    test eax, eax
    jz else31
    jmp draw_hline_return
    jmp endif30
else31:
endif30:
    mov eax, [ebp+12]
    mov [ebp-4], eax
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp+20]
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-8], eax
    mov eax, [ebp-4]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else35
    mov eax, 0
    mov [ebp-4], eax
    jmp endif34
else35:
endif34:
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp+24]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setg al
    movzx eax, al
    test eax, eax
    jz else37
    mov eax, [ebp+24]
    mov [ebp-8], eax
    jmp endif36
else37:
endif36:
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp-8]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    test eax, eax
    jz else39
    jmp draw_hline_return
    jmp endif38
else39:
endif38:
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-12], eax
    mov eax, 0
    mov [ebp-16], eax
while_start40:
    mov eax, [ebp-16]
    push eax
    mov eax, [ebp-12]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end41
    mov eax, [ebp+32]
    push eax
    mov eax, [ebp-16]
    mov ebx, eax
    mov eax, [ebp+36]
    shl ebx, 2
    add eax, ebx
    pop ebx
    mov [eax], ebx
    mov eax, [ebp-16]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-16], eax
    jmp while_start40
while_end41:
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+24]
    mov ebx, eax
    pop eax
    imul eax, ebx
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov [ebp-20], eax
    mov eax, 0
    push eax
    mov eax, [ebp-20]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 19
    push eax
    call syscall3
    add esp, 16
    mov eax, [ebp-12]
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    imul eax, ebx
    push eax
    mov eax, [ebp+36]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
draw_hline_return:
    mov esp, ebp
    pop ebp
    ret
    
draw_vline:
    push ebp
    mov ebp, esp
    sub esp, 16
    mov eax, [ebp+12]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    push eax
    mov eax, [ebp+12]
    push eax
    mov eax, [ebp+24]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setge al
    movzx eax, al
    mov ebx, eax
    pop eax
    test eax, eax
    jnz or_short44
    test ebx, ebx
    jnz or_short44
    xor eax, eax
    jmp or_end45
or_short44:
    mov eax, 1
or_end45:
    test eax, eax
    jz else43
    jmp draw_vline_return
    jmp endif42
else43:
endif42:
    mov eax, [ebp+16]
    mov [ebp-4], eax
    mov eax, [ebp+16]
    push eax
    mov eax, [ebp+20]
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-8], eax
    mov eax, [ebp-4]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else47
    mov eax, 0
    mov [ebp-4], eax
    jmp endif46
else47:
endif46:
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp+28]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setg al
    movzx eax, al
    test eax, eax
    jz else49
    mov eax, [ebp+28]
    mov [ebp-8], eax
    jmp endif48
else49:
endif48:
    mov eax, [ebp+32]
    push eax
    mov eax, 0
    mov ebx, eax
    mov eax, [ebp+36]
    shl ebx, 2
    add eax, ebx
    pop ebx
    mov [eax], ebx
    mov eax, [ebp-4]
    mov [ebp-12], eax
while_start50:
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp-8]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end51
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp+24]
    mov ebx, eax
    pop eax
    imul eax, ebx
    push eax
    mov eax, [ebp+12]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    imul eax, ebx
    mov [ebp-16], eax
    mov eax, 0
    push eax
    mov eax, [ebp-16]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 19
    push eax
    call syscall3
    add esp, 16
    mov eax, 4
    push eax
    mov eax, [ebp+36]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
    mov eax, [ebp-12]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-12], eax
    jmp while_start50
while_end51:
draw_vline_return:
    mov esp, ebp
    pop ebp
    ret
    
main:
    push ebp
    mov ebp, esp
    sub esp, 68
    call get_argc
    mov [ebp-4], eax
    mov eax, [ebp-4]
    push eax
    mov eax, 6
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else53
    lea eax, [rel str_0]
    push eax
    call print_str
    add esp, 4
    lea eax, [rel str_1]
    push eax
    call print_str
    add esp, 4
    lea eax, [rel str_2]
    push eax
    call print_str
    add esp, 4
    mov eax, 1
    push eax
    mov eax, 1
    push eax
    call syscall1
    add esp, 8
    jmp endif52
else53:
endif52:
    mov eax, 1
    push eax
    call get_argv
    add esp, 4
    push eax
    call atoi
    add esp, 4
    mov [ebp-8], eax
    mov eax, 2
    push eax
    call get_argv
    add esp, 4
    push eax
    call atoi
    add esp, 4
    mov [ebp-12], eax
    mov eax, 3
    push eax
    call get_argv
    add esp, 4
    push eax
    call atoi
    add esp, 4
    mov [ebp-16], eax
    mov eax, 4
    push eax
    call get_argv
    add esp, 4
    push eax
    call atoi
    add esp, 4
    mov [ebp-20], eax
    mov eax, 5
    push eax
    call get_argv
    add esp, 4
    push eax
    call atoi
    add esp, 4
    mov [ebp-24], eax
    mov eax, 0
    mov [ebp-28], eax
    mov eax, [ebp-4]
    push eax
    mov eax, 6
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setg al
    movzx eax, al
    test eax, eax
    jz else55
    mov eax, 6
    push eax
    call get_argv
    add esp, 4
    push eax
    call atoi
    add esp, 4
    mov [ebp-28], eax
    jmp endif54
else55:
endif54:
    mov eax, 2
    push eax
    lea eax, [rel str_3]
    push eax
    mov eax, 5
    push eax
    call syscall2
    add esp, 12
    mov [ebp-32], eax
    mov eax, [ebp-32]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else57
    lea eax, [rel str_4]
    push eax
    call print_str
    add esp, 4
    mov eax, 1
    push eax
    mov eax, 1
    push eax
    call syscall1
    add esp, 8
    jmp endif56
else57:
endif56:
    mov eax, 0
    push eax
    mov eax, 45
    push eax
    call syscall1
    add esp, 8
    mov [ebp-36], eax
    mov eax, [ebp-36]
    push eax
    mov eax, 8192
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-40], eax
    mov eax, [ebp-40]
    push eax
    mov eax, 45
    push eax
    call syscall1
    add esp, 8
    mov eax, [ebp-36]
    mov [ebp-44], eax
    mov eax, [ebp-36]
    push eax
    mov eax, 256
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-48], eax
    mov eax, [ebp-36]
    push eax
    mov eax, 200
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-52], eax
    mov eax, [ebp-44]
    push eax
    mov eax, 17920
    push eax
    mov eax, [ebp-32]
    push eax
    mov eax, 54
    push eax
    call syscall3
    add esp, 16
    mov [ebp-56], eax
    mov eax, [ebp-56]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else59
    lea eax, [rel str_5]
    push eax
    call print_str
    add esp, 4
    mov eax, [ebp-32]
    push eax
    mov eax, 6
    push eax
    call syscall1
    add esp, 8
    mov eax, 1
    push eax
    mov eax, 1
    push eax
    call syscall1
    add esp, 8
    jmp endif58
else59:
endif58:
    mov eax, 0
    mov ebx, eax
    mov eax, [ebp-44]
    shl ebx, 2
    add eax, ebx
    mov eax, [eax]
    mov [ebp-60], eax
    mov eax, 1
    mov ebx, eax
    mov eax, [ebp-44]
    shl ebx, 2
    add eax, ebx
    mov eax, [eax]
    mov [ebp-64], eax
    mov eax, [ebp-28]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else61
    mov eax, [ebp-12]
    mov [ebp-68], eax
while_start62:
    mov eax, [ebp-68]
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp-20]
    mov ebx, eax
    pop eax
    add eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end63
    mov eax, [ebp-48]
    push eax
    mov eax, [ebp-24]
    push eax
    mov eax, [ebp-64]
    push eax
    mov eax, [ebp-60]
    push eax
    mov eax, [ebp-16]
    push eax
    mov eax, [ebp-68]
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-32]
    push eax
    call draw_hline
    add esp, 32
    mov eax, [ebp-68]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-68], eax
    jmp while_start62
while_end63:
    jmp endif60
else61:
    mov eax, [ebp-48]
    push eax
    mov eax, [ebp-24]
    push eax
    mov eax, [ebp-64]
    push eax
    mov eax, [ebp-60]
    push eax
    mov eax, [ebp-16]
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-32]
    push eax
    call draw_hline
    add esp, 32
    mov eax, [ebp-48]
    push eax
    mov eax, [ebp-24]
    push eax
    mov eax, [ebp-64]
    push eax
    mov eax, [ebp-60]
    push eax
    mov eax, [ebp-16]
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp-20]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-32]
    push eax
    call draw_hline
    add esp, 32
    mov eax, [ebp-52]
    push eax
    mov eax, [ebp-24]
    push eax
    mov eax, [ebp-64]
    push eax
    mov eax, [ebp-60]
    push eax
    mov eax, [ebp-20]
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-32]
    push eax
    call draw_vline
    add esp, 32
    mov eax, [ebp-52]
    push eax
    mov eax, [ebp-24]
    push eax
    mov eax, [ebp-64]
    push eax
    mov eax, [ebp-60]
    push eax
    mov eax, [ebp-20]
    push eax
    mov eax, [ebp-12]
    push eax
    mov eax, [ebp-8]
    push eax
    mov eax, [ebp-16]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    sub eax, ebx
    push eax
    mov eax, [ebp-32]
    push eax
    call draw_vline
    add esp, 32
endif60:
    mov eax, [ebp-32]
    push eax
    mov eax, 6
    push eax
    call syscall1
    add esp, 8
    mov eax, 0
    push eax
    mov eax, 1
    push eax
    call syscall1
    add esp, 8
main_return:
    mov esp, ebp
    pop ebp
    ret