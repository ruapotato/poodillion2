; Generated by Brainhair Compiler
bits 32

extern syscall1
extern syscall2
extern syscall3

section .data
str_0: db "ls: cannot open directory: ", 0
str_1: db "", 10, "", 0
str_2: db "PSCH", 0
str_3: db "  ", 0
str_4: db "/", 0
str_5: db "", 10, "", 0
str_6: db "/", 0
str_7: db "", 10, "", 0

section .text
global _start
global get_argc
global get_argv

section .bss
_startup_esp: resd 1

section .text

_start:
    mov [_startup_esp], esp  ; Save initial stack pointer
    call main
    ; Exit with return code from main
    mov ebx, eax  ; Exit code
    mov eax, 1    ; sys_exit
    int 0x80

; get_argc() - returns argument count
get_argc:
    mov eax, [_startup_esp]
    mov eax, [eax]  ; argc is at [esp]
    ret

; get_argv(index) - returns pointer to argument string
get_argv:
    push ebp
    mov ebp, esp
    mov eax, [_startup_esp]
    mov ecx, [ebp+8]  ; index
    lea eax, [eax + 4 + ecx*4]  ; argv[index] = esp + 4 + index*4
    mov eax, [eax]
    pop ebp
    ret
    
strlen:
    push ebp
    mov ebp, esp
    sub esp, 4
    mov eax, 0
    mov [ebp-4], eax
while_start0:
    mov eax, [ebp-4]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz while_end1
    mov eax, [ebp-4]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-4], eax
    jmp while_start0
while_end1:
    mov eax, [ebp-4]
    jmp strlen_return
strlen_return:
    mov esp, ebp
    pop ebp
    ret
    
print:
    push ebp
    mov ebp, esp
    sub esp, 4
    mov eax, [ebp+8]
    push eax
    call strlen
    add esp, 4
    mov [ebp-4], eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 1
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
print_return:
    mov esp, ebp
    pop ebp
    ret
    
print_err:
    push ebp
    mov ebp, esp
    sub esp, 4
    mov eax, [ebp+8]
    push eax
    call strlen
    add esp, 4
    mov [ebp-4], eax
    mov eax, [ebp-4]
    push eax
    mov eax, [ebp+8]
    push eax
    mov eax, 2
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
print_err_return:
    mov esp, ebp
    pop ebp
    ret
    
strcpy:
    push ebp
    mov ebp, esp
    sub esp, 4
    mov eax, 0
    mov [ebp-4], eax
while_start2:
    mov eax, [ebp-4]
    mov ebx, eax
    mov eax, [ebp+12]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz while_end3
    mov eax, [ebp-4]
    mov ebx, eax
    mov eax, [ebp+12]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    mov eax, [ebp-4]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-4], eax
    jmp while_start2
while_end3:
    mov eax, 0
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
strcpy_return:
    mov esp, ebp
    pop ebp
    ret
    
strcmp:
    push ebp
    mov ebp, esp
    sub esp, 4
    mov eax, 0
    mov [ebp-4], eax
while_start4:
    mov eax, [ebp-4]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz while_end5
    mov eax, [ebp-4]
    mov ebx, eax
    mov eax, [ebp+8]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    mov eax, [ebp+12]
    add eax, ebx
    movzx eax, byte [eax]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else7
    mov eax, 1
    jmp strcmp_return
    jmp endif6
else7:
endif6:
    mov eax, [ebp-4]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-4], eax
    jmp while_start4
while_end5:
    mov eax, [ebp-4]
    mov ebx, eax
    mov eax, [ebp+12]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else9
    mov eax, 1
    jmp strcmp_return
    jmp endif8
else9:
endif8:
    mov eax, 0
    jmp strcmp_return
strcmp_return:
    mov esp, ebp
    pop ebp
    ret
    
type_char:
    push ebp
    mov ebp, esp
    movzx eax, byte [ebp+8]
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else11
    mov eax, 100
    jmp type_char_return
    jmp endif10
else11:
endif10:
    movzx eax, byte [ebp+8]
    push eax
    mov eax, 10
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else13
    mov eax, 108
    jmp type_char_return
    jmp endif12
else13:
endif12:
    movzx eax, byte [ebp+8]
    push eax
    mov eax, 2
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else15
    mov eax, 99
    jmp type_char_return
    jmp endif14
else15:
endif14:
    movzx eax, byte [ebp+8]
    push eax
    mov eax, 6
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else17
    mov eax, 98
    jmp type_char_return
    jmp endif16
else17:
endif16:
    movzx eax, byte [ebp+8]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else19
    mov eax, 112
    jmp type_char_return
    jmp endif18
else19:
endif18:
    movzx eax, byte [ebp+8]
    push eax
    mov eax, 12
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else21
    mov eax, 115
    jmp type_char_return
    jmp endif20
else21:
endif20:
    mov eax, 45
    jmp type_char_return
type_char_return:
    mov esp, ebp
    pop ebp
    ret
    
main:
    push ebp
    mov ebp, esp
    sub esp, 140
    call get_argc
    mov [ebp-4], eax
    mov eax, 0
    mov [ebp-8], eax
    mov eax, 0
    mov [ebp-12], eax
    mov eax, 0
    mov [ebp-16], eax
    mov eax, 0
    mov [ebp-20], eax
    mov eax, 1
    mov [ebp-24], eax
while_start22:
    mov eax, [ebp-24]
    push eax
    mov eax, [ebp-4]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end23
    mov eax, [ebp-24]
    push eax
    call get_argv
    add esp, 4
    mov [ebp-28], eax
    mov eax, 0
    mov ebx, eax
    mov eax, [ebp-28]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 45
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else25
    mov eax, 1
    mov [ebp-32], eax
while_start26:
    mov eax, [ebp-32]
    mov ebx, eax
    mov eax, [ebp-28]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz while_end27
    mov eax, [ebp-32]
    mov ebx, eax
    mov eax, [ebp-28]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 98
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else29
    mov eax, 1
    mov [ebp-8], eax
    jmp endif28
else29:
endif28:
    mov eax, [ebp-32]
    mov ebx, eax
    mov eax, [ebp-28]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 108
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else31
    mov eax, 1
    mov [ebp-12], eax
    jmp endif30
else31:
endif30:
    mov eax, [ebp-32]
    mov ebx, eax
    mov eax, [ebp-28]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 97
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else33
    mov eax, 1
    mov [ebp-16], eax
    jmp endif32
else33:
endif32:
    mov eax, [ebp-32]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-32], eax
    jmp while_start26
while_end27:
    jmp endif24
else25:
    mov eax, [ebp-28]
    mov [ebp-20], eax
endif24:
    mov eax, [ebp-24]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-24], eax
    jmp while_start22
while_end23:
    mov eax, 0
    push eax
    mov eax, 45
    push eax
    call syscall1
    add esp, 8
    mov [ebp-36], eax
    mov eax, [ebp-36]
    push eax
    mov eax, 65536
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-40], eax
    mov eax, [ebp-40]
    push eax
    mov eax, 45
    push eax
    call syscall1
    add esp, 8
    mov eax, [ebp-36]
    mov [ebp-44], eax
    mov eax, [ebp-36]
    push eax
    mov eax, 8192
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-48], eax
    mov eax, [ebp-36]
    push eax
    mov eax, 32768
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-52], eax
    mov eax, [ebp-36]
    push eax
    mov eax, 33024
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-56], eax
    mov eax, [ebp-20]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else35
    mov eax, [ebp-20]
    push eax
    mov eax, [ebp-52]
    push eax
    call strcpy
    add esp, 8
    jmp endif34
else35:
    mov eax, 46
    push eax
    mov eax, 0
    mov ebx, eax
    mov eax, [ebp-52]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    mov eax, 0
    push eax
    mov eax, 1
    mov ebx, eax
    mov eax, [ebp-52]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
endif34:
    mov eax, 0
    push eax
    mov eax, 0
    push eax
    mov eax, 65536
    mov ebx, eax
    pop eax
    or eax, ebx
    push eax
    mov eax, [ebp-52]
    push eax
    mov eax, 5
    push eax
    call syscall3
    add esp, 16
    mov [ebp-60], eax
    mov eax, [ebp-60]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz else37
    lea eax, [rel str_0]
    push eax
    call print_err
    add esp, 4
    mov eax, [ebp-52]
    push eax
    call print_err
    add esp, 4
    lea eax, [rel str_1]
    push eax
    call print_err
    add esp, 4
    mov eax, 1
    push eax
    mov eax, 1
    push eax
    call syscall1
    add esp, 8
    jmp endif36
else37:
endif36:
    mov eax, 0
    mov [ebp-64], eax
    mov eax, 0
    mov [ebp-68], eax
    mov eax, 0
    mov [ebp-72], eax
    mov eax, [ebp-48]
    mov [ebp-76], eax
    mov eax, [ebp-36]
    push eax
    mov eax, 16384
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-80], eax
    mov eax, 8192
    push eax
    mov eax, [ebp-44]
    push eax
    mov eax, [ebp-60]
    push eax
    mov eax, 220
    push eax
    call syscall3
    add esp, 16
    mov [ebp-84], eax
while_start38:
    mov eax, [ebp-84]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setg al
    movzx eax, al
    test eax, eax
    jz while_end39
    mov eax, 0
    mov [ebp-88], eax
while_start40:
    mov eax, [ebp-88]
    push eax
    mov eax, [ebp-84]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end41
    mov eax, [ebp-44]
    push eax
    mov eax, [ebp-88]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 16
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-92], eax
    mov eax, 0
    mov ebx, eax
    mov eax, [ebp-92]
    shl ebx, 1
    add eax, ebx
    movzx eax, word [eax]
    mov [ebp-96], eax
    mov eax, [ebp-88]
    push eax
    mov eax, 18
    mov ebx, eax
    pop eax
    add eax, ebx
    mov ebx, eax
    mov eax, [ebp-44]
    add eax, ebx
    movzx eax, byte [eax]
    mov byte [ebp-97], al
    mov eax, [ebp-44]
    push eax
    mov eax, [ebp-88]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, 19
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-101], eax
    mov eax, 0
    mov [ebp-105], eax
    mov eax, 0
    mov ebx, eax
    mov eax, [ebp-101]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 46
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else43
    mov eax, [ebp-16]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else45
    mov eax, 1
    mov ebx, eax
    mov eax, [ebp-101]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else47
    mov eax, 1
    mov [ebp-105], eax
    jmp endif46
else47:
endif46:
    mov eax, 1
    mov ebx, eax
    mov eax, [ebp-101]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 46
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else49
    mov eax, 2
    mov ebx, eax
    mov eax, [ebp-101]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else51
    mov eax, 1
    mov [ebp-105], eax
    jmp endif50
else51:
endif50:
    jmp endif48
else49:
endif48:
    jmp endif44
else45:
endif44:
    mov eax, [ebp-16]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else53
    mov eax, 1
    mov ebx, eax
    mov eax, [ebp-101]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else55
    mov eax, 1
    mov ebx, eax
    mov eax, [ebp-101]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, 46
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else57
    mov eax, 1
    mov [ebp-105], eax
    jmp endif56
else57:
endif56:
    jmp endif54
else55:
endif54:
    jmp endif52
else53:
endif52:
    jmp endif42
else43:
endif42:
    mov eax, [ebp-105]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else59
    mov eax, [ebp-101]
    push eax
    call strlen
    add esp, 4
    mov [ebp-109], eax
    mov eax, [ebp-8]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else61
    mov eax, [ebp-48]
    push eax
    mov eax, [ebp-68]
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-113], eax
    mov eax, 0
    mov [ebp-117], eax
while_start62:
    mov eax, [ebp-117]
    push eax
    mov eax, 56
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end63
    mov eax, 0
    push eax
    mov eax, [ebp-117]
    mov ebx, eax
    mov eax, [ebp-113]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    mov eax, [ebp-117]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-117], eax
    jmp while_start62
while_end63:
    mov eax, [ebp-109]
    push eax
    mov eax, 52
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setg al
    movzx eax, al
    test eax, eax
    jz else65
    mov eax, 52
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    sub eax, ebx
    mov [ebp-109], eax
    jmp endif64
else65:
endif64:
    mov eax, 0
    mov [ebp-117], eax
while_start66:
    mov eax, [ebp-117]
    push eax
    mov eax, [ebp-109]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end67
    mov eax, [ebp-117]
    mov ebx, eax
    mov eax, [ebp-101]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, [ebp-117]
    mov ebx, eax
    mov eax, [ebp-113]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    mov eax, [ebp-117]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-117], eax
    jmp while_start66
while_end67:
    movzx eax, byte [ebp-97]
    push eax
    mov eax, 52
    mov ebx, eax
    mov eax, [ebp-113]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    mov eax, [ebp-68]
    push eax
    mov eax, 56
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-68], eax
    jmp endif60
else61:
    mov eax, [ebp-72]
    mov [ebp-121], eax
    mov eax, 0
    mov [ebp-125], eax
while_start68:
    mov eax, [ebp-125]
    push eax
    mov eax, [ebp-109]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end69
    mov eax, [ebp-125]
    mov ebx, eax
    mov eax, [ebp-101]
    add eax, ebx
    movzx eax, byte [eax]
    push eax
    mov eax, [ebp-72]
    mov ebx, eax
    mov eax, [ebp-56]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    mov eax, [ebp-72]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-72], eax
    mov eax, [ebp-125]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-125], eax
    jmp while_start68
while_end69:
    mov eax, 0
    push eax
    mov eax, [ebp-72]
    mov ebx, eax
    mov eax, [ebp-56]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
    mov eax, [ebp-72]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-72], eax
    mov eax, [ebp-56]
    push eax
    mov eax, [ebp-121]
    mov ebx, eax
    pop eax
    add eax, ebx
    push eax
    mov eax, [ebp-64]
    mov ebx, eax
    mov eax, [ebp-76]
    shl ebx, 2
    add eax, ebx
    pop ebx
    mov [eax], ebx
    movzx eax, byte [ebp-97]
    push eax
    mov eax, [ebp-64]
    mov ebx, eax
    mov eax, [ebp-80]
    add eax, ebx
    pop ebx
    mov byte [eax], bl
endif60:
    mov eax, [ebp-64]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-64], eax
    jmp endif58
else59:
endif58:
    mov eax, [ebp-88]
    push eax
    mov eax, [ebp-96]
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-88], eax
    jmp while_start40
while_end41:
    mov eax, 8192
    push eax
    mov eax, [ebp-44]
    push eax
    mov eax, [ebp-60]
    push eax
    mov eax, 220
    push eax
    call syscall3
    add esp, 16
    mov [ebp-84], eax
    jmp while_start38
while_end39:
    mov eax, [ebp-60]
    push eax
    mov eax, 6
    push eax
    call syscall1
    add esp, 8
    mov eax, [ebp-8]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else71
    mov eax, 4
    push eax
    lea eax, [rel str_2]
    push eax
    mov eax, 1
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
    mov eax, 1
    mov byte [ebp-126], al
    mov eax, 1
    push eax
    lea eax, [ebp-126]
    push eax
    mov eax, 1
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
    mov eax, 2
    mov byte [ebp-127], al
    mov eax, 1
    push eax
    lea eax, [ebp-127]
    push eax
    mov eax, 1
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
    mov eax, 56
    mov word [ebp-129], ax
    mov eax, 2
    push eax
    lea eax, [ebp-129]
    push eax
    mov eax, 1
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
    mov eax, 4
    push eax
    lea eax, [ebp-64]
    push eax
    mov eax, 1
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
    mov eax, [ebp-68]
    push eax
    mov eax, [ebp-48]
    push eax
    mov eax, 1
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
    jmp endif70
else71:
    mov eax, [ebp-12]
    push eax
    mov eax, 0
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setne al
    movzx eax, al
    test eax, eax
    jz else73
    mov eax, 0
    mov [ebp-24], eax
while_start74:
    mov eax, [ebp-24]
    push eax
    mov eax, [ebp-64]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end75
    mov eax, [ebp-24]
    mov ebx, eax
    mov eax, [ebp-76]
    shl ebx, 2
    add eax, ebx
    mov eax, [eax]
    mov [ebp-133], eax
    mov eax, [ebp-24]
    mov ebx, eax
    mov eax, [ebp-80]
    add eax, ebx
    movzx eax, byte [eax]
    mov byte [ebp-134], al
    movzx eax, byte [ebp-134]
    push eax
    call type_char
    add esp, 4
    mov byte [ebp-135], al
    mov eax, 1
    push eax
    lea eax, [ebp-135]
    push eax
    mov eax, 1
    push eax
    mov eax, 4
    push eax
    call syscall3
    add esp, 16
    lea eax, [rel str_3]
    push eax
    call print
    add esp, 4
    mov eax, [ebp-133]
    push eax
    call print
    add esp, 4
    movzx eax, byte [ebp-134]
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else77
    lea eax, [rel str_4]
    push eax
    call print
    add esp, 4
    jmp endif76
else77:
endif76:
    lea eax, [rel str_5]
    push eax
    call print
    add esp, 4
    mov eax, [ebp-24]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-24], eax
    jmp while_start74
while_end75:
    jmp endif72
else73:
    mov eax, 0
    mov [ebp-24], eax
while_start78:
    mov eax, [ebp-24]
    push eax
    mov eax, [ebp-64]
    mov ebx, eax
    pop eax
    cmp eax, ebx
    setl al
    movzx eax, al
    test eax, eax
    jz while_end79
    mov eax, [ebp-24]
    mov ebx, eax
    mov eax, [ebp-76]
    shl ebx, 2
    add eax, ebx
    mov eax, [eax]
    mov [ebp-139], eax
    mov eax, [ebp-24]
    mov ebx, eax
    mov eax, [ebp-80]
    add eax, ebx
    movzx eax, byte [eax]
    mov byte [ebp-140], al
    mov eax, [ebp-139]
    push eax
    call print
    add esp, 4
    movzx eax, byte [ebp-140]
    push eax
    mov eax, 4
    mov ebx, eax
    pop eax
    cmp eax, ebx
    sete al
    movzx eax, al
    test eax, eax
    jz else81
    lea eax, [rel str_6]
    push eax
    call print
    add esp, 4
    jmp endif80
else81:
endif80:
    lea eax, [rel str_7]
    push eax
    call print
    add esp, 4
    mov eax, [ebp-24]
    push eax
    mov eax, 1
    mov ebx, eax
    pop eax
    add eax, ebx
    mov [ebp-24], eax
    jmp while_start78
while_end79:
endif72:
endif70:
    mov eax, 0
    push eax
    mov eax, 1
    push eax
    call syscall1
    add esp, 8
main_return:
    mov esp, ebp
    pop ebp
    ret
