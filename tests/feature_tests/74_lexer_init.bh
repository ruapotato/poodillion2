# Test 74: Simple Lexer init and at_end
try:
    from typing import List
except:
    pass

class Token:
    def __init__(self, ttype: int, value: str):
        self.ttype: int = ttype
        self.value: str = value

class Lexer:
    def __init__(self, source: str):
        self.source: str = source
        self.pos: int = 0
        self.tokens: List[Token] = []

    def at_end(self) -> bool:
        return self.pos >= len(self.source)

    def current_char(self) -> char:
        return self.source[self.pos]

    def advance(self):
        self.pos = self.pos + 1

def main() -> int:
    print("Lexer init test\n")

    code: str = "x: int"
    print("Creating lexer\n")
    lexer: Lexer = Lexer(code)
    print("Lexer created\n")

    # Check at_end
    if lexer.at_end():
        print("at_end: wrong\n")
    else:
        print("at_end: OK\n")

    # Get first char
    ch: char = lexer.current_char()
    if ch == 'x':
        print("current_char: OK\n")
    else:
        print("current_char: wrong\n")

    # Advance and check
    lexer.advance()
    ch2: char = lexer.current_char()
    if ch2 == ':':
        print("advance: OK\n")
    else:
        print("advance: wrong\n")

    print("Done\n")
    return 0
