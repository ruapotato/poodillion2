# Test nested method calls (like self.source[self.pos])
class Buffer:
    data: str
    pos: int

    def init(self, s: str) -> Buffer:
        self.data = s
        self.pos = 0
        return self

    def current(self) -> char:
        return self.data[self.pos]

    def advance(self) -> void:
        self.pos = self.pos + 1

def main() -> int:
    b: Buffer = Buffer().init("abc")
    c1: char = b.current()
    b.advance()
    c2: char = b.current()
    if c1 == 'a' and c2 == 'b':
        print("OK\n")
    else:
        print("FAIL\n")
    return 0
