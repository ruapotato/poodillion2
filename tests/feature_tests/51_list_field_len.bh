# Test 51: len() on List field of class
try:
    from typing import List
except:
    pass

class Container:
    def __init__(self):
        self.items: List[int] = []

    def add(self, val: int):
        self.items.append(val)

    def count(self) -> int:
        return len(self.items)

def main() -> int:
    print("List field len test\n")

    c: Container = Container()

    # Check initial
    n: int = c.count()
    if n == 0:
        print("Init: OK\n")
    else:
        print("Init: FAIL\n")

    # Add and check
    c.add(10)
    n = c.count()
    if n == 1:
        print("After 1: OK\n")
    else:
        print("After 1: FAIL\n")

    c.add(20)
    n = c.count()
    if n == 2:
        print("After 2: OK\n")
    else:
        print("After 2: FAIL\n")

    c.add(30)
    n = c.count()
    if n == 3:
        print("After 3: OK\n")
    else:
        print("After 3: FAIL\n")

    # Also test direct access
    n = len(c.items)
    if n == 3:
        print("Direct: OK\n")
    else:
        print("Direct: FAIL\n")

    print("Done\n")
    return 0
