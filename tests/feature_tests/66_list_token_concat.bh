# Test 66: Store Token with concatenated string in List
try:
    from typing import List
except:
    pass

class Token:
    def __init__(self, value: str):
        self.value: str = value

def build_string() -> str:
    s: str = ""
    s = s + "h"
    s = s + "i"
    return s

def main() -> int:
    print("List token concat test\n")

    tokens: List[Token] = []

    # Build a string via concatenation
    v: str = build_string()
    print("Built string\n")

    # Create token with concatenated value
    t: Token = Token(v)
    print("Created token\n")

    # Add to list
    tokens.append(t)
    print("Added to list\n")

    # Retrieve from list
    n: int = len(tokens)
    if n == 1:
        print("Count: OK\n")
    else:
        print("Count: FAIL\n")

    t2: Token = tokens[0]
    print("Retrieved token\n")

    # Access value
    val: str = t2.value
    print("Got value\n")

    # Compare
    if val == "hi":
        print("Value: OK\n")
    else:
        print("Value: FAIL\n")

    print("Done\n")
    return 0
