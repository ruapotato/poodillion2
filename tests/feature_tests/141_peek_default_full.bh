# Test peek_char with default arg in tokenize loop pattern
class Lexer:
    source: str
    pos: int

    def __init__(self, code: str):
        self.source = code
        self.pos = 0

    def at_end(self) -> int:
        if self.pos >= len(self.source):
            return 1
        return 0

    def current_char(self) -> char:
        return self.source[self.pos]

    def peek_char(self, offset: int = 1) -> char:
        p: int = self.pos + offset
        if p >= len(self.source):
            return ' '
        return self.source[p]

    def advance(self) -> void:
        self.pos = self.pos + 1

    def tokenize(self) -> int:
        count: int = 0
        while self.at_end() == 0:
            ch: char = self.current_char()
            pk: char = self.peek_char()

            if ch == 'f' and pk == '"':
                count = count + 1

            self.advance()
        return count

def main() -> int:
    print("Creating\n")
    lexer: Lexer = Lexer("f\"hello\"")
    print("Tokenizing\n")
    n: int = lexer.tokenize()
    print("Done\n")
    if n == 1:
        print("OK\n")
    else:
        print("FAIL\n")
    return 0
