# Test 78: Method with default argument
try:
    from typing import List
except:
    pass

class Lexer:
    def __init__(self, source: str):
        self.source: str = source
        self.pos: int = 0

    def peek_char(self, offset: int = 1) -> char:
        pos: int = self.pos + offset
        if pos >= len(self.source):
            return ' '
        return self.source[pos]

def main() -> int:
    print("Peek default arg test\n")

    lexer: Lexer = Lexer("abc")

    # peek_char() with default offset=1
    ch1: char = lexer.peek_char()
    if ch1 == 'b':
        print("peek_char(): OK\n")
    else:
        print("peek_char(): FAIL\n")

    # peek_char(1) explicit
    ch2: char = lexer.peek_char(1)
    if ch2 == 'b':
        print("peek_char(1): OK\n")
    else:
        print("peek_char(1): FAIL\n")

    # peek_char(2)
    ch3: char = lexer.peek_char(2)
    if ch3 == 'c':
        print("peek_char(2): OK\n")
    else:
        print("peek_char(2): FAIL\n")

    # peek_char(3) - out of bounds
    ch4: char = lexer.peek_char(3)
    if ch4 == ' ':
        print("peek_char(3): OK\n")
    else:
        print("peek_char(3): FAIL\n")

    print("Done\n")
    return 0
