# Test class with many fields like real Lexer
try:
    from typing import List
except:
    pass

class Token:
    def __init__(self, ttype: int, value, line: int, column: int, end_line: int = 0, end_column: int = 0):
        self.ttype: int = ttype
        self.value = value
        self.line: int = line
        self.column: int = column
        self.end_line: int = end_line if end_line != 0 else line
        self.end_column: int = end_column if end_column != 0 else column

class Lexer:
    def __init__(self, source: str):
        self.source: str = source
        self.pos: int = 0
        self.line: int = 1
        self.column: int = 1
        self.tokens: List[Token] = []
        self.indent_stack: List[int] = [0]
        self.at_line_start: bool = True

    def at_end(self) -> bool:
        return self.pos >= len(self.source)

    def current_char(self) -> char:
        return self.source[self.pos]

    def advance(self):
        if self.pos < len(self.source):
            ch: char = self.source[self.pos]
            if ch == '\n':
                self.line = self.line + 1
                self.column = 1
            else:
                self.column = self.column + 1
            self.pos = self.pos + 1

    def test(self) -> int:
        n1: int = len(self.source)
        n2: int = self.pos
        n3: int = self.line
        n4: int = self.column
        n5: int = len(self.tokens)
        n6: int = len(self.indent_stack)
        return n1 + n2 + n3 + n4 + n5 + n6

def main() -> int:
    lexer: Lexer = Lexer("hello")
    r: int = lexer.test()
    # source=5, pos=0, line=1, column=1, tokens=0, indent_stack=1 => 8
    if r == 8:
        print("OK\n")
    else:
        print("FAIL: ")
        c: char = chr(48 + r)
        print(c)
        print("\n")
    return 0
