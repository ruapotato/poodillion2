#!/usr/bin/pooscript
# shutdown - Shut down the system

# Get system interface
sys_iface = process.get_system()
if not sys_iface:
    error("shutdown: cannot get system interface")
    exit(1)

current_time = format_time(time(), "%a %b %d %H:%M:%S")

print(f"Shutdown initiated on {sys_iface.hostname}...")
print("System is going down for halt NOW!")
print()
print(f"Broadcast message from root (console) ({current_time}):")
print("The system is going down for system halt NOW!")

# Actually shutdown the system
sys_iface.shutdown()

exit(0)
