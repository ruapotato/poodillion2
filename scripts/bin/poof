#!/usr/bin/pooscript
# poof - delete files dramatically

if len(args) == 0:
    error("poof: missing file operand")
    print("Usage: poof <file>")
    print("  Like 'rm', but with more style!")
    exit(1)

for filepath in args:
    if vfs.exists(filepath):
        try:
            vfs.unlink(filepath)
            print(f"    \\    /")
            print(f"  -- {filepath} --")
            print(f"    /    \\")
            print(f"     POOF!")
            print(f"   *gone*")
        except RuntimeError as e:
            error(f"poof: cannot remove '{filepath}': {e}")
            exit(1)
    else:
        error(f"poof: cannot remove '{filepath}': No such file")
        exit(1)
