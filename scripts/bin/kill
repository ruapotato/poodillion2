#!/usr/bin/virtualscript
# kill - send signals to processes

if len(args) == 0:
    error("kill: missing operand")
    exit(1)

# Parse signal (simplified - just support -9 and -15)
signal = 15  # SIGTERM
target_args = []

for arg in args:
    if arg == '-9':
        signal = 9  # SIGKILL
    elif arg == '-15':
        signal = 15  # SIGTERM
    else:
        target_args.append(arg)

if len(target_args) == 0:
    error("kill: missing PID")
    exit(1)

for pid_str in target_args:
    try:
        pid = int(pid_str)
        process.kill(pid, signal)
    except ValueError:
        error(f"kill: invalid PID: {pid_str}")
        exit(1)
    except RuntimeError as e:
        error(f"kill: {e}")
        exit(1)

exit(0)
