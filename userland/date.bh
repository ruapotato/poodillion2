# date - Display current date and time
# Reads time from RTC (Real-Time Clock)

import "lib/syscalls"
import "lib/time"

proc main(): int32 =
  var time: TimeStruct

  # Get current time from RTC
  var result: int32 = get_time(addr(time))

  if result < 0:
    perror("date: cannot read time from RTC")
    return 1

  # Print in Unix date format (default)
  print_time_unix(addr(time))
  newline()

  return 0
