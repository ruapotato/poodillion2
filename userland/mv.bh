# mv - move/rename file or directory
# Usage: mv source destination

from lib.syscalls import *

extern def get_argc() -> int32
extern def get_argv(index: int32) -> *uint8

def main() -> int32:
  argc: int32 = get_argc()

  if argc < 3:
    perror("Usage: mv source destination")
    return 1

  source: *uint8 = get_argv(1)
  dest: *uint8 = get_argv(2)

  result: int32 = rename(source, dest)

  if result < 0:
    perror("mv: cannot move/rename file")
    return 1

  return 0
