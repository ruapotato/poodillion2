# sync - Sync filesystem buffers to disk
# Usage: sync
# Ensures all cached filesystem changes are written to disk

import "lib/syscalls"

proc main() =
  # Call sync syscall - no arguments needed
  discard syscall1(SYS_sync, 0)

  print(cast[ptr uint8]("sync: filesystem buffers synchronized\n"))

  discard syscall1(SYS_exit, 0)
